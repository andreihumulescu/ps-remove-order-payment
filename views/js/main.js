function m(e,n){const t=document.createElement(e),{className:r,text:o,innerHtml:a,attributes:c}=n;return r&&(t.className=r),o&&(t.textContent=o),a&&(t.innerHTML=a),c&&c.forEach(i=>{const d=Object.keys(i)[0],l=Object.values(i)[0];t.setAttribute(d,l)}),t}function s(){return document.querySelectorAll('table[data-role="payments-grid-table"] .text-right')}function u(e){var r,o;const n=(r=e.querySelector('td[data-role="date-column"'))==null?void 0:r.textContent,t=(o=e.querySelector('td[data-role="transaction-id-column"'))==null?void 0:o.textContent;return{date_add:n,transaction_id:t}}function f(){var e;return(e=document==null?void 0:document.querySelector('strong[data-role="order-reference"]'))==null?void 0:e.textContent}function y(){s().length!==0&&s().forEach(e=>{const n=m("button",{className:"btn btn-sm btn-outline-secondary btn-remove-payment",text:"Remove"});n.addEventListener("click",async function(){var t;if(confirm(window.removeorderpayment.removePaymentText)){const o=await(await fetch(window.removeorderpayment.removePaymentController,{method:"DELETE",body:JSON.stringify({order_reference:f(),...u((t=this==null?void 0:this.parentElement)==null?void 0:t.parentElement)})})).json();window.alert(o.message),o.success&&window.location.reload()}}),e.append(n)})}(function(n){document.readyState!=="loading"?n():document.addEventListener("DOMContentLoaded",n)})(b);function b(){y()}
