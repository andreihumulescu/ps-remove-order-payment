function m(e,o){const t=document.createElement(e),{className:r,text:n,innerHtml:a,attributes:c}=o;return r&&(t.className=r),n&&(t.textContent=n),a&&(t.innerHTML=a),c&&c.forEach(i=>{const s=Object.keys(i)[0],l=Object.values(i)[0];t.setAttribute(s,l)}),t}function d(){return document.querySelectorAll('table[data-role="payments-grid-table"] .text-right')}function u(e){var r,n;const o=(r=e.querySelector('td[data-role="date-column"'))==null?void 0:r.textContent,t=(n=e.querySelector('td[data-role="transaction-id-column"'))==null?void 0:n.textContent;return{date_add:o,transaction_id:t}}function f(){var e;return(e=document==null?void 0:document.querySelector('strong[data-role="order-reference"]'))==null?void 0:e.textContent}function y(){d().length!==0&&d().forEach(e=>{const o=m("button",{className:"btn btn-sm btn-outline-secondary btn-remove-payment",text:"Remove"});o.addEventListener("click",async function(){var t;if(confirm(window.removeorderpayment.removePaymentText)){const n=await(await fetch(window.removeorderpayment.removePaymentController,{method:"DELETE",body:JSON.stringify({order_reference:f(),...u((t=this==null?void 0:this.parentElement)==null?void 0:t.parentElement)})})).json();n.debug&&console.log(n.debug),window.alert(n.message),n.success&&window.location.reload()}}),e.append(o)})}(function(o){document.readyState!=="loading"?o():document.addEventListener("DOMContentLoaded",o)})(b);function b(){y()}
